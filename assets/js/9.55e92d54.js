(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{170:function(n,t,l){"use strict";l.r(t);var a=l(0),c=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var n=this,t=n.$createElement,l=n._self._c||t;return l("div",{staticClass:"content"},[l("h1",{attrs:{id:"function-prototype-call-call"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#function-prototype-call-call","aria-hidden":"true"}},[n._v("#")]),n._v(" Function.prototype.call.call")]),n._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[n._v("function fn1() {\n    console.log(111111111);\n}\n\nfunction fn2() {\n    console.log(222222222);\n}\n\nfn1.call(fn2);\n\nfn1.call.call(fn2);\n\nprototype.call = ctx => {\n    const context = ctx || window;\n    context.fn = this;\n    return ctx.fn();\n}\n")])])]),l("p",[n._v("再来看第一个")]),n._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[n._v("fn1.call(fn2);\n")])])]),l("p",[n._v("call里面当前this指向fn1，执行fn就是执行this，context是fn2，fn中的this指向context，也就是改变了fn1的this")]),n._v(" "),l("p",[n._v("再来看第二个")]),n._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[n._v("fn1.call.call(fn2);\n")])])]),l("p",[n._v("从右向左执行\nfn1.call.call(fn2)，\n遇到第一个call，call当前this指向fn1.call，context变成fn2，改变了fn1.call的this，指向fn2\n执行fn1.call()\n遇到第二个call，call当前this指向第一个call的context也就是fn2，执行this就是执行fn2，参数是空，context变成window")]),n._v(" "),l("p",[n._v("fn1.call(fn2); // 相当于 把fn1()挂载到fn2上，即fn2.fn1(this=fn2)()\nfn1.call.call === Function.prototype.call;\nFunction.prototype.call.call(fn2);\n// 相当于把 Function.prototype.call挂载在fn2 上，即\n// fn2.(Function.prototype.call(this=this))()\n// 即相当于fn2.call();\n验证：\n"),l("img",{attrs:{src:"https://uploader.shimo.im/f/SHgMWjnbm44dA5Zo.png!thumbnail",alt:"图片"}})]),n._v(" "),l("p",[n._v("用法：\nlet slice = Function.prototype.call.bind(Array.prototype.slice);\nslice([xxx]);")])])}],!1,null,null,null);c.options.__file="prototype.call.call.md";t.default=c.exports}}]);